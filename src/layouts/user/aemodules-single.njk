{% extends "base.njk" %}
{% block content %}
    <aside class="catalog-index">
        <ul class="catalog-entries-toc">
            {% for item in collections[catalog] | orderBy("data.title", "asc") %}
                {% if catalog == item.data.catalog and item.data.type == "entry" %}
                    <li class="{{ item.data.type }}">
                        <a href="{{ item.url }}">{{ item.data.title }}</a>
                        {% if item.data.replacedby %}
                            (discontinued, replaced by <a href="/modules/{{ item.data.replacedby }}">{{ item.data.replacedby }}</a>)
                        {% endif %}
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </aside>
    <main>
        <header>
            <ul class="tags-list">
                {% for tag in tags  %}
                    <li>
                        <a href="/tags/{{ tag }}">{{ tag }}</a>
                    </li>
                {% endfor %}
            </ul>
            <h1>{{ title }}</h1>
            <p class="subtitle">{{ subtitle }}</p>
        </header>
        <section class="catalog-content">
            {{ content | safe }}
        </section>
    </main>
{% endblock content %}
